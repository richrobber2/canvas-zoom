import{S as I,e as J,s as K,J as U,K as u,p as j,M as y,n as P,A as E,N as R,O as V,P as D,L as F,Z as Le,ar as je,R as G,G as T,m as Z,V as Y,B as be,C as Ee,av as Q,aj as Ae,X as Ce,k as O,o as X,z as B,v as S,x as q,E as Me,ae as ze,q as Te,r as Be,u as pe,y as ke}from"./index-666c05ef.js";import{U as Se}from"./Upload-04601b90.js";import{M as Ue}from"./ModifyUpload-ee50d215.js";import{B as Ne}from"./Button-41f5a565.js";import{B as Fe}from"./BlockLabel-2a811b8f.js";import{E as Oe}from"./Empty-0485d83c.js";import{g as Xe}from"./color-53a7b359.js";import{a as qe}from"./csv-b0b7514a.js";import{Z as x,_ as $,l as ee}from"./linear-58a44b5e.js";import{U as He}from"./UploadText-d6aada6a.js";import"./Blocks-e57874b8.js";import"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";import"./IconButton-9196078c.js";import"./dsv-576afacd.js";function Pe(l){let e,n,t;return{c(){e=U("svg"),n=U("path"),t=U("path"),u(n,"d","M28.828 3.172a4.094 4.094 0 0 0-5.656 0L4.05 22.292A6.954 6.954 0 0 0 2 27.242V30h2.756a6.952 6.952 0 0 0 4.95-2.05L28.828 8.829a3.999 3.999 0 0 0 0-5.657zM10.91 18.26l2.829 2.829l-2.122 2.121l-2.828-2.828zm-2.619 8.276A4.966 4.966 0 0 1 4.756 28H4v-.759a4.967 4.967 0 0 1 1.464-3.535l1.91-1.91l2.829 2.828zM27.415 7.414l-12.261 12.26l-2.829-2.828l12.262-12.26a2.047 2.047 0 0 1 2.828 0a2 2 0 0 1 0 2.828z"),u(n,"fill","currentColor"),u(t,"d","M6.5 15a3.5 3.5 0 0 1-2.475-5.974l3.5-3.5a1.502 1.502 0 0 0 0-2.121a1.537 1.537 0 0 0-2.121 0L3.415 5.394L2 3.98l1.99-1.988a3.585 3.585 0 0 1 4.95 0a3.504 3.504 0 0 1 0 4.949L5.439 10.44a1.502 1.502 0 0 0 0 2.121a1.537 1.537 0 0 0 2.122 0l4.024-4.024L13 9.95l-4.025 4.024A3.475 3.475 0 0 1 6.5 15z"),u(t,"fill","currentColor"),u(e,"width","1em"),u(e,"height","1em"),u(e,"viewBox","0 0 32 32")},m(a,s){j(a,e,s),y(e,n),y(e,t)},p:P,i:P,o:P,d(a){a&&E(e)}}}let ye=class extends I{constructor(e){super(),J(this,e,null,Pe,K,{})}};function le(l){let e;return Array.isArray(l)?e=l.reduce((n,{values:t})=>[...n,...t.map(({y:a})=>a)],[]):e=l.values,[Math.min(...e),Math.max(...e)]}function te(l,e,n){const t=Object.entries(l[0]).reduce((a,s,o)=>(!e&&o===0||e&&s[0]===e?a.x.name=s[0]:(!n||n&&n.includes(s[0]))&&a.y.push({name:s[0],values:[]}),a),{x:{name:"",values:[]},y:[]});for(let a=0;a<l.length;a++){const s=Object.entries(l[a]);for(let o=0;o<s.length;o++){let[_,i]=s[o];_===t.x.name?t.x.values.push(parseFloat(i)):t.y[o-1].values.push({y:parseFloat(s[o][1]),x:parseFloat(s[0][1])})}}return t}function Re(l){let e,n,t,a,s;return{c(){e=R("div"),n=R("span"),t=V(),a=D(l[0]),F(n,"background",l[3]),u(n,"class","svelte-1gww5xe"),F(e,"top",l[2]-l[5]/2+"px"),F(e,"left",l[1]-l[4]-7+"px"),u(e,"class","svelte-1gww5xe"),Le(()=>l[6].call(e))},m(o,_){j(o,e,_),y(e,n),y(e,t),y(e,a),s=je(e,l[6].bind(e))},p(o,[_]){_&8&&F(n,"background",o[3]),_&1&&G(a,o[0]),_&36&&F(e,"top",o[2]-o[5]/2+"px"),_&18&&F(e,"left",o[1]-o[4]-7+"px")},i:P,o:P,d(o){o&&E(e),s()}}}function Ve(l,e,n){let{text:t}=e,{x:a}=e,{y:s}=e,{color:o}=e,_,i;function v(){_=this.offsetWidth,i=this.offsetHeight,n(4,_),n(5,i)}return l.$$set=g=>{"text"in g&&n(0,t=g.text),"x"in g&&n(1,a=g.x),"y"in g&&n(2,s=g.y),"color"in g&&n(3,o=g.color)},[t,a,s,o,_,i,v]}class Ye extends I{constructor(e){super(),J(this,e,Ve,Re,K,{text:0,x:1,y:2,color:3})}}function Ze(l,{color:e,text:n}){let t;function a(i){return t=new Ye({props:{text:n,x:i.pageX,y:i.pageY,color:e},target:document.body}),i}function s(i){t.$set({x:i.pageX,y:i.pageY})}function o(){t.$destroy()}const _=l;return _.addEventListener("mouseover",a),_.addEventListener("mouseleave",o),_.addEventListener("mousemove",s),{destroy(){_.removeEventListener("mouseover",a),_.removeEventListener("mouseleave",o),_.removeEventListener("mousemove",s)}}}function ne(l,e,n){const t=l.slice();t[16]=e[n].name,t[17]=e[n].values;const a=t[8][t[16]];return t[18]=a,t}function ae(l,e,n){const t=l.slice();return t[0]=e[n].x,t[1]=e[n].y,t}function oe(l,e,n){const t=l.slice();t[16]=e[n].name,t[17]=e[n].values;const a=t[8][t[16]];return t[18]=a,t}function se(l,e,n){const t=l.slice();return t[0]=e[n].x,t[1]=e[n].y,t}function re(l,e,n){const t=l.slice();return t[27]=e[n],t}function ie(l,e,n){const t=l.slice();return t[27]=e[n],t}function fe(l,e,n){const t=l.slice();return t[16]=e[n].name,t}function _e(l){let e,n,t,a=l[16]+"",s,o;return{c(){e=R("div"),n=R("span"),t=V(),s=D(a),o=V(),u(n,"class","legend-box svelte-1mjxput"),F(n,"background-color",l[8][l[16]]),u(e,"class","legend-item svelte-1mjxput")},m(_,i){j(_,e,i),y(e,n),y(e,t),y(e,s),y(e,o)},p(_,i){i[0]&260&&F(n,"background-color",_[8][_[16]]),i[0]&4&&a!==(a=_[16]+"")&&G(s,a)},d(_){_&&E(e)}}}function ue(l){let e,n,t,a,s,o,_=l[27]+"",i,v,g;return{c(){e=U("line"),o=U("text"),i=D(_),u(e,"stroke-width","0.5"),u(e,"x1",n=l[5](l[27])),u(e,"x2",t=l[5](l[27])),u(e,"y1",a=l[4](l[9][0]<l[6][0]?l[9][0]:l[6][0])+10),u(e,"y2",s=l[4](l[6][1]>l[9][l[9].length-1]?l[6][1]:l[9][l[9].length-1])),u(e,"stroke","#aaa"),u(o,"class","label-text svelte-1mjxput"),u(o,"text-anchor","middle"),u(o,"x",v=l[5](l[27])),u(o,"y",g=l[4](l[9][0])+30)},m(f,h){j(f,e,h),j(f,o,h),y(o,i)},p(f,h){h[0]&1056&&n!==(n=f[5](f[27]))&&u(e,"x1",n),h[0]&1056&&t!==(t=f[5](f[27]))&&u(e,"x2",t),h[0]&592&&a!==(a=f[4](f[9][0]<f[6][0]?f[9][0]:f[6][0])+10)&&u(e,"y1",a),h[0]&592&&s!==(s=f[4](f[6][1]>f[9][f[9].length-1]?f[6][1]:f[9][f[9].length-1]))&&u(e,"y2",s),h[0]&1024&&_!==(_=f[27]+"")&&G(i,_),h[0]&1056&&v!==(v=f[5](f[27]))&&u(o,"x",v),h[0]&528&&g!==(g=f[4](f[9][0])+30)&&u(o,"y",g)},d(f){f&&(E(e),E(o))}}}function ce(l){let e,n,t,a,s,o,_=l[27]+"",i,v,g;return{c(){e=U("line"),o=U("text"),i=D(_),u(e,"stroke-width","0.5"),u(e,"y1",n=l[4](l[27])),u(e,"y2",t=l[4](l[27])),u(e,"x1",a=l[5](l[10][0]<l[7][0]?l[10][0]:l[7][0])-10),u(e,"x2",s=l[5](l[7][1]>l[10][l[10].length-1]?l[7][1]:l[10][l[10].length-1])),u(e,"stroke","#aaa"),u(o,"class","label-text svelte-1mjxput"),u(o,"text-anchor","end"),u(o,"y",v=l[4](l[27])+4),u(o,"x",g=l[5](l[10][0])-20)},m(f,h){j(f,e,h),j(f,o,h),y(o,i)},p(f,h){h[0]&528&&n!==(n=f[4](f[27]))&&u(e,"y1",n),h[0]&528&&t!==(t=f[4](f[27]))&&u(e,"y2",t),h[0]&1184&&a!==(a=f[5](f[10][0]<f[7][0]?f[10][0]:f[7][0])-10)&&u(e,"x1",a),h[0]&1184&&s!==(s=f[5](f[7][1]>f[10][f[10].length-1]?f[7][1]:f[10][f[10].length-1]))&&u(e,"x2",s),h[0]&512&&_!==(_=f[27]+"")&&G(i,_),h[0]&528&&v!==(v=f[4](f[27])+4)&&u(o,"y",v),h[0]&1056&&g!==(g=f[5](f[10][0])-20)&&u(o,"x",g)},d(f){f&&(E(e),E(o))}}}function me(l){let e,n,t,a,s,o,_=l[6][1]+"",i,v,g;return{c(){e=U("line"),o=U("text"),i=D(_),u(e,"stroke-width","0.5"),u(e,"y1",n=l[4](l[6][1])),u(e,"y2",t=l[4](l[6][1])),u(e,"x1",a=l[5](l[10][0])),u(e,"x2",s=l[5](l[7][1])),u(e,"stroke","#aaa"),u(o,"class","label-text svelte-1mjxput"),u(o,"text-anchor","end"),u(o,"y",v=l[4](l[6][1])+4),u(o,"x",g=l[5](l[10][0])-20)},m(f,h){j(f,e,h),j(f,o,h),y(o,i)},p(f,h){h[0]&80&&n!==(n=f[4](f[6][1]))&&u(e,"y1",n),h[0]&80&&t!==(t=f[4](f[6][1]))&&u(e,"y2",t),h[0]&1056&&a!==(a=f[5](f[10][0]))&&u(e,"x1",a),h[0]&160&&s!==(s=f[5](f[7][1]))&&u(e,"x2",s),h[0]&64&&_!==(_=f[6][1]+"")&&G(i,_),h[0]&80&&v!==(v=f[4](f[6][1])+4)&&u(o,"y",v),h[0]&1056&&g!==(g=f[5](f[10][0])-20)&&u(o,"x",g)},d(f){f&&(E(e),E(o))}}}function he(l){let e,n,t,a;return{c(){e=U("circle"),u(e,"r","3.5"),u(e,"cx",n=l[5](l[0])),u(e,"cy",t=l[4](l[1])),u(e,"stroke-width","1.5"),u(e,"stroke",a=l[18]),u(e,"fill","none")},m(s,o){j(s,e,o)},p(s,o){o[0]&36&&n!==(n=s[5](s[0]))&&u(e,"cx",n),o[0]&20&&t!==(t=s[4](s[1]))&&u(e,"cy",t),o[0]&260&&a!==(a=s[18])&&u(e,"stroke",a)},d(s){s&&E(e)}}}function ge(l){let e,n,t,a=T(l[17]),s=[];for(let o=0;o<a.length;o+=1)s[o]=he(se(l,a,o));return{c(){for(let o=0;o<s.length;o+=1)s[o].c();e=U("path"),u(e,"d",n=$().curve(ee)(l[17].map(l[13]))),u(e,"fill","none"),u(e,"stroke",t=l[18]),u(e,"stroke-width","3")},m(o,_){for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(o,_);j(o,e,_)},p(o,_){if(_[0]&308){a=T(o[17]);let i;for(i=0;i<a.length;i+=1){const v=se(o,a,i);s[i]?s[i].p(v,_):(s[i]=he(v),s[i].c(),s[i].m(e.parentNode,e))}for(;i<s.length;i+=1)s[i].d(1);s.length=a.length}_[0]&52&&n!==(n=$().curve(ee)(o[17].map(o[13])))&&u(e,"d",n),_[0]&260&&t!==(t=o[18])&&u(e,"stroke",t)},d(o){o&&E(e),Y(s,o)}}}function de(l){let e,n,t,a,s,o;return{c(){e=U("circle"),u(e,"r","7"),u(e,"cx",n=l[5](l[0])),u(e,"cy",t=l[4](l[1])),u(e,"stroke","black"),u(e,"fill","black"),F(e,"cursor","pointer"),F(e,"opacity","0")},m(_,i){j(_,e,i),s||(o=Ae(a=Ze.call(null,e,{color:l[18],text:`(${l[0]}, ${l[1]})`})),s=!0)},p(_,i){l=_,i[0]&36&&n!==(n=l[5](l[0]))&&u(e,"cx",n),i[0]&20&&t!==(t=l[4](l[1]))&&u(e,"cy",t),a&&Ce(a.update)&&i[0]&260&&a.update.call(null,{color:l[18],text:`(${l[0]}, ${l[1]})`})},d(_){_&&E(e),s=!1,o()}}}function ve(l){let e,n=T(l[17]),t=[];for(let a=0;a<n.length;a+=1)t[a]=de(ae(l,n,a));return{c(){for(let a=0;a<t.length;a+=1)t[a].c();e=Z()},m(a,s){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(a,s);j(a,e,s)},p(a,s){if(s[0]&308){n=T(a[17]);let o;for(o=0;o<n.length;o+=1){const _=ae(a,n,o);t[o]?t[o].p(_,s):(t[o]=de(_),t[o].c(),t[o].m(e.parentNode,e))}for(;o<t.length;o+=1)t[o].d(1);t.length=n.length}},d(a){a&&E(e),Y(t,a)}}}function De(l){let e,n,t,a,s,o,_,i,v,g,f=l[3].name+"",h,A=T(l[2]),m=[];for(let c=0;c<A.length;c+=1)m[c]=_e(fe(l,A,c));let b=T(l[10]),p=[];for(let c=0;c<b.length;c+=1)p[c]=ue(ie(l,b,c));let N=T(l[9]),k=[];for(let c=0;c<N.length;c+=1)k[c]=ce(re(l,N,c));let d=l[6][1]>l[9][l[9].length-1]&&me(l),C=T(l[2]),L=[];for(let c=0;c<C.length;c+=1)L[c]=ge(oe(l,C,c));let H=T(l[2]),M=[];for(let c=0;c<H.length;c+=1)M[c]=ve(ne(l,H,c));return{c(){e=R("div"),n=R("div");for(let c=0;c<m.length;c+=1)m[c].c();t=V(),a=U("svg"),s=U("g");for(let c=0;c<p.length;c+=1)p[c].c();o=Z();for(let c=0;c<k.length;c+=1)k[c].c();_=Z(),d&&d.c();for(let c=0;c<L.length;c+=1)L[c].c();i=Z();for(let c=0;c<M.length;c+=1)M[c].c();v=V(),g=R("div"),h=D(f),u(n,"class","legend svelte-1mjxput"),u(a,"class","w-full svelte-1mjxput"),u(a,"viewBox","-70 -20 700 420"),u(g,"class","main-label svelte-1mjxput"),u(e,"class","wrap svelte-1mjxput")},m(c,z){j(c,e,z),y(e,n);for(let r=0;r<m.length;r+=1)m[r]&&m[r].m(n,null);y(e,t),y(e,a),y(a,s);for(let r=0;r<p.length;r+=1)p[r]&&p[r].m(s,null);y(s,o);for(let r=0;r<k.length;r+=1)k[r]&&k[r].m(s,null);y(s,_),d&&d.m(s,null);for(let r=0;r<L.length;r+=1)L[r]&&L[r].m(a,null);y(a,i);for(let r=0;r<M.length;r+=1)M[r]&&M[r].m(a,null);y(e,v),y(e,g),y(g,h)},p(c,z){if(z[0]&260){A=T(c[2]);let r;for(r=0;r<A.length;r+=1){const w=fe(c,A,r);m[r]?m[r].p(w,z):(m[r]=_e(w),m[r].c(),m[r].m(n,null))}for(;r<m.length;r+=1)m[r].d(1);m.length=A.length}if(z[0]&1648){b=T(c[10]);let r;for(r=0;r<b.length;r+=1){const w=ie(c,b,r);p[r]?p[r].p(w,z):(p[r]=ue(w),p[r].c(),p[r].m(s,o))}for(;r<p.length;r+=1)p[r].d(1);p.length=b.length}if(z[0]&1712){N=T(c[9]);let r;for(r=0;r<N.length;r+=1){const w=re(c,N,r);k[r]?k[r].p(w,z):(k[r]=ce(w),k[r].c(),k[r].m(s,_))}for(;r<k.length;r+=1)k[r].d(1);k.length=N.length}if(c[6][1]>c[9][c[9].length-1]?d?d.p(c,z):(d=me(c),d.c(),d.m(s,null)):d&&(d.d(1),d=null),z[0]&308){C=T(c[2]);let r;for(r=0;r<C.length;r+=1){const w=oe(c,C,r);L[r]?L[r].p(w,z):(L[r]=ge(w),L[r].c(),L[r].m(a,i))}for(;r<L.length;r+=1)L[r].d(1);L.length=C.length}if(z[0]&308){H=T(c[2]);let r;for(r=0;r<H.length;r+=1){const w=ne(c,H,r);M[r]?M[r].p(w,z):(M[r]=ve(w),M[r].c(),M[r].m(a,null))}for(;r<M.length;r+=1)M[r].d(1);M.length=H.length}z[0]&8&&f!==(f=c[3].name+"")&&G(h,f)},i:P,o:P,d(c){c&&E(e),Y(m,c),Y(p,c),Y(k,c),d&&d.d(),Y(L,c),Y(M,c)}}}function Ge(l,e,n){let t,a,s,o,_,i,v,g,{value:f}=e,{x:h=void 0}=e,{y:A=void 0}=e,{colors:m=[]}=e;const b=be();let p;function N(d){let C=m[d%m.length];return C&&C in Q?Q[C]?.primary:C||Q[Xe(d)].primary}Ee(()=>{b("process",{x:t,y:a})});const k=({x:d,y:C})=>[_(d),i(C)];return l.$$set=d=>{"value"in d&&n(11,f=d.value),"x"in d&&n(0,h=d.x),"y"in d&&n(1,A=d.y),"colors"in d&&n(12,m=d.colors)},l.$$.update=()=>{l.$$.dirty[0]&2051&&n(3,{x:t,y:a}=te(typeof f=="string"?qe(f):f,h,A),t,(n(2,a),n(11,f),n(0,h),n(1,A))),l.$$.dirty[0]&8&&n(7,s=le(t)),l.$$.dirty[0]&4&&n(6,o=le(a)),l.$$.dirty[0]&128&&n(5,_=x(s,[0,600]).nice()),l.$$.dirty[0]&64&&n(4,i=x(o,[350,0]).nice()),l.$$.dirty[0]&32&&n(10,v=_.ticks(8)),l.$$.dirty[0]&16&&n(9,g=i.ticks(8)),l.$$.dirty[0]&4&&n(8,p=a.reduce((d,C,L)=>({...d,[C.name]:N(L)}),{}))},[h,A,a,t,i,_,o,s,p,g,v,f,m,k]}class we extends I{constructor(e){super(),J(this,e,Ge,De,K,{value:11,x:0,y:1,colors:12},null,[-1,-1])}}function Ie(l){let e,n;return e=new Se({props:{filetype:"text/csv",include_file_metadata:!1,$$slots:{default:[We]},$$scope:{ctx:l}}}),e.$on("load",l[19]),{c(){O(e.$$.fragment)},m(t,a){X(e,t,a),n=!0},p(t,a){const s={};a&8388608&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Je(l){let e,n,t,a,s;return n=new Ue({}),n.$on("clear",l[17]),a=new we({props:{value:l[14],y:l[4],x:l[5],colors:l[9]}}),a.$on("process",l[18]),{c(){e=R("div"),O(n.$$.fragment),t=V(),O(a.$$.fragment),u(e,"class","chart svelte-etmurc")},m(o,_){j(o,e,_),X(n,e,null),y(e,t),X(a,e,null),s=!0},p(o,_){const i={};_&16384&&(i.value=o[14]),_&16&&(i.y=o[4]),_&32&&(i.x=o[5]),_&512&&(i.colors=o[9]),a.$set(i)},i(o){s||(B(n.$$.fragment,o),B(a.$$.fragment,o),s=!0)},o(o){S(n.$$.fragment,o),S(a.$$.fragment,o),s=!1},d(o){o&&E(e),q(n),q(a)}}}function Ke(l){let e,n,t,a;const s=[xe,Qe],o=[];function _(i,v){return i[15]?0:1}return e=_(l),n=o[e]=s[e](l),{c(){n.c(),t=Z()},m(i,v){o[e].m(i,v),j(i,t,v),a=!0},p(i,v){let g=e;e=_(i),e===g?o[e].p(i,v):(pe(),S(o[g],1,1,()=>{o[g]=null}),ke(),n=o[e],n?n.p(i,v):(n=o[e]=s[e](i),n.c()),B(n,1),n.m(t.parentNode,t))},i(i){a||(B(n),a=!0)},o(i){S(n),a=!1},d(i){i&&E(t),o[e].d(i)}}}function We(l){let e,n;return e=new He({props:{type:"csv"}}),{c(){O(e.$$.fragment)},m(t,a){X(e,t,a),n=!0},p:P,i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function Qe(l){let e,n;return e=new Oe({props:{unpadded_box:!0,size:"large",$$slots:{default:[$e]},$$scope:{ctx:l}}}),{c(){O(e.$$.fragment)},m(t,a){X(e,t,a),n=!0},p(t,a){const s={};a&8388608&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function xe(l){let e,n;return e=new we({props:{value:l[15],colors:l[9]}}),{c(){O(e.$$.fragment)},m(t,a){X(e,t,a),n=!0},p(t,a){const s={};a&32768&&(s.value=t[15]),a&512&&(s.colors=t[9]),e.$set(s)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function $e(l){let e,n;return e=new ye({}),{c(){O(e.$$.fragment)},m(t,a){X(e,t,a),n=!0},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function el(l){let e,n,t,a,s,o,_,i;e=new Fe({props:{show_label:l[8],Icon:ye,label:l[7]||"TimeSeries"}});const v=[l[13]];let g={};for(let m=0;m<v.length;m+=1)g=Me(g,v[m]);t=new ze({props:g});const f=[Ke,Je,Ie],h=[];function A(m,b){return m[6]==="static"?0:m[14]?1:m[0]===void 0||m[0]===null?2:-1}return~(s=A(l))&&(o=h[s]=f[s](l)),{c(){O(e.$$.fragment),n=V(),O(t.$$.fragment),a=V(),o&&o.c(),_=Z()},m(m,b){X(e,m,b),j(m,n,b),X(t,m,b),j(m,a,b),~s&&h[s].m(m,b),j(m,_,b),i=!0},p(m,b){const p={};b&256&&(p.show_label=m[8]),b&128&&(p.label=m[7]||"TimeSeries"),e.$set(p);const N=b&8192?Te(v,[Be(m[13])]):{};t.$set(N);let k=s;s=A(m),s===k?~s&&h[s].p(m,b):(o&&(pe(),S(h[k],1,1,()=>{h[k]=null}),ke()),~s?(o=h[s],o?o.p(m,b):(o=h[s]=f[s](m),o.c()),B(o,1),o.m(_.parentNode,_)):o=null)},i(m){i||(B(e.$$.fragment,m),B(t.$$.fragment,m),B(o),i=!0)},o(m){S(e.$$.fragment,m),S(t.$$.fragment,m),S(o),i=!1},d(m){m&&(E(n),E(a),E(_)),q(e,m),q(t,m),~s&&h[s].d(m)}}}function ll(l){let e,n;return e=new Ne({props:{visible:l[3],variant:l[6]==="dynamic"&&!l[14]?"dashed":"solid",padding:!1,elem_id:l[1],elem_classes:l[2],container:l[10],scale:l[11],min_width:l[12],$$slots:{default:[el]},$$scope:{ctx:l}}}),{c(){O(e.$$.fragment)},m(t,a){X(e,t,a),n=!0},p(t,[a]){const s={};a&8&&(s.visible=t[3]),a&16448&&(s.variant=t[6]==="dynamic"&&!t[14]?"dashed":"solid"),a&2&&(s.elem_id=t[1]),a&4&&(s.elem_classes=t[2]),a&1024&&(s.container=t[10]),a&2048&&(s.scale=t[11]),a&4096&&(s.min_width=t[12]),a&8446961&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){n||(B(e.$$.fragment,t),n=!0)},o(t){S(e.$$.fragment,t),n=!1},d(t){q(e,t)}}}function tl(l){return l.data.map(e=>e.reduce((n,t,a)=>({...n,[l.headers[a]]:t}),{}))}function nl(l){const e=atob(l.split(",")[1]),n=l.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(e.length),a=new Uint8Array(t);for(let s=0;s<e.length;s++)a[s]=e.charCodeAt(s);return new Blob([t],{type:n})}function al(l,e){const n=[],t=[];n.push(l.name),e.forEach(({name:a})=>n.push(a));for(let a=0;a<l.values.length;a++){let s=[];s.push(l.values[a]),e.forEach(({values:o})=>s.push(o[a].y)),t.push(s)}return{headers:n,data:t}}function ol(l,e,n){let t;const a=be();let{elem_id:s=""}=e,{elem_classes:o=[]}=e,{visible:_=!0}=e,{value:i}=e,{y:v}=e,{x:g}=e,{mode:f}=e,{label:h}=e,{show_label:A}=e,{colors:m}=e,{container:b=!0}=e,{scale:p=null}=e,{min_width:N=void 0}=e,{loading_status:k}=e,d;function C(r){const w=new FileReader;w.addEventListener("loadend",W=>{n(14,d=W.srcElement.result)}),w.readAsText(r)}function L(r){r.headers&&n(14,d=r.headers.join(",")),r.data.forEach(W=>{n(14,d=d+`
`),n(14,d=d+W.join(","))})}function H(r){return n(0,i={data:r}),r}function M({detail:r}){n(0,i=null),a("change"),a("clear")}const c=({detail:{x:r,y:w}})=>n(0,i=al(r,w)),z=({detail:r})=>H(r);return l.$$set=r=>{"elem_id"in r&&n(1,s=r.elem_id),"elem_classes"in r&&n(2,o=r.elem_classes),"visible"in r&&n(3,_=r.visible),"value"in r&&n(0,i=r.value),"y"in r&&n(4,v=r.y),"x"in r&&n(5,g=r.x),"mode"in r&&n(6,f=r.mode),"label"in r&&n(7,h=r.label),"show_label"in r&&n(8,A=r.show_label),"colors"in r&&n(9,m=r.colors),"container"in r&&n(10,b=r.container),"scale"in r&&n(11,p=r.scale),"min_width"in r&&n(12,N=r.min_width),"loading_status"in r&&n(13,k=r.loading_status)},l.$$.update=()=>{l.$$.dirty&1&&(i&&i.data&&typeof i.data=="string"?i?C(nl(i.data)):n(14,d=null):i&&i.data&&typeof i.data!="string"&&(i||n(14,d=null),L(i))),l.$$.dirty&16385&&n(14,d=i==null?null:d),l.$$.dirty&65&&n(15,t=f==="static"&&i&&tl(i)),l.$$.dirty&1&&a("change")},[i,s,o,_,v,g,f,h,A,m,b,p,N,k,d,t,H,M,c,z]}class sl extends I{constructor(e){super(),J(this,e,ol,ll,K,{elem_id:1,elem_classes:2,visible:3,value:0,y:4,x:5,mode:6,label:7,show_label:8,colors:9,container:10,scale:11,min_width:12,loading_status:13})}}const wl=sl,Ll=["static","dynamic"],jl=l=>({type:{payload:"{data: Array<Array<number>> | string; headers?: Array<string>;}"},description:{payload:"dataset of series"}});export{wl as Component,jl as document,Ll as modes};
//# sourceMappingURL=index-9da9ad12.js.map
